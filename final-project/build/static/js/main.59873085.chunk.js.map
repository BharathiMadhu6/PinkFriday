{"version":3,"sources":["messageCodes.js","Login.jsx","services.js","Home.jsx","AddNewDeal.jsx","DealDetails.jsx","MyAccount.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["messageCodes","Login","onLogin","useState","username","setUsername","isDisabled","setIsDiabled","isPending","setIsPending","status","setStatus","history","useHistory","className","disabled","onChange","e","target","value","onClick","fetch","method","headers","Headers","body","JSON","stringify","catch","Promise","reject","error","then","response","ok","json","createSession","userinfo","push","err","Home","listOfDeals","setListOfDeals","useEffect","deals","dealsContent","undefined","map","item","data-index","id","src","image","alt","to","itemName","price","expirationDate","AddNewDeal","setItemName","websiteLink","setWebsiteLink","setPrice","description","setDescription","setExpirationDate","category","setCategory","setNewDealId","maxDate","Date","minDate","content","type","link","RegExp","test","rows","cols","min","max","date","name","dealData","pushNewDeal","dealID","showDetails","DealDetails","match","params","dealDetails","setDealDetails","viewDealDetails","dealInfo","href","rel","MyAccount","myDeals","setMyDeals","getDealsAddedByUser","dealsInfo","deleteDeal","removeDeal","dataset","index","length","App","isLoggedIn","userState","setUserState","navContent","login","exact","path","component","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59873085.chunk.js","sourcesContent":["const messageCodes = {\n    'username-required': 'Please enter a username',\n    'bad-characters': 'Special characters are not allowed to be a part of username',\n    'session-invalid': 'Please login',\n    'session-required': 'Please login to use the application',\n    'not-enough': 'Please enter appropriate values in all the fields',\n    'login needed': 'You must login to access this information',\n    'network error': 'There seems to be a network issue, Try again later'\n}\n\nexport default messageCodes;","import { useState } from 'react';\nimport { createSession } from './services';\nimport messageCodes from './messageCodes';\nimport { useHistory } from 'react-router-dom';\nimport './App.css';\n\nconst Login = function({ onLogin}) {\n    const [username, setUsername] = useState('');\n    const [isDisabled, setIsDiabled] = useState(true);\n    const [isPending, setIsPending] = useState(false);\n    const [status, setStatus] = useState('');\n    const history = useHistory();\n\n    const onChange = (e) => {\n        setUsername(e.target.value);\n        setIsDiabled(!e.target.value);\n    };\n\n    const showHome = function() {\n        history.push(\"/\");\n    }\n\n    const login = () => {\n        setIsPending(true);\n        createSession({ username })\n        .then( userinfo => {  \n            setIsPending(false);\n            onLogin({ username: userinfo });\n            showHome();\n        })\n        .catch( err => {\n            setStatus(messageCodes[err.error]);\n            setIsPending(false);\n        });\n    };\n\n\n    return (\n        <div className=\"login-box\"> \n        <h2> LOGIN TO ADD NEW DEALS </h2>\n        <span> \n            <label className=\"username-label\"> USERNAME </label>\n        </span>\n        <span> \n            <input className=\"username\" disabled={isPending} onChange={onChange} value={username} />\n        </span>\n        <span>\n            <button className=\"login-button\" onClick={login} disabled={isDisabled || isPending} > {isPending ? \"...\" : \"LOGIN\"} </button>\n        </span>\n        {status && <div className=\"status\"> {status} </div>}\n        </div>\n    );\n};\n\nexport default Login;","export const loadDeals = () => {\n    return fetch('/deals', {\n        method: 'GET',\n    })\n    .catch( () => Promise.reject({ error: 'network-error'}))\n    .then( response => {\n        if(response.ok) {\n            return response.json();\n        }\n        return response.json().then( json => Promise.reject(json));\n    });\n};\n\n\nexport const checkSession = () => {\n    return fetch('/session', {\n        method: 'GET',\n    })\n    .catch( () => Promise.reject({ error: 'network-error'}))\n    .then( response => {\n        if(response.ok) {\n            return response.json();\n        }\n        return response.json().then( json => Promise.reject(json));\n    });\n};\n\n\nexport const createSession = ({ username }) => {\n    return fetch('/session', {\n        method: 'POST',\n        headers: new Headers({\n            'content-type': 'application/json',\n        }),\n        body: JSON.stringify({ username }),\n    })\n    .catch( () => Promise.reject({ error: 'network-error' }))\n    .then( response => {\n        if(response.ok) {\n            return response.json();\n        }\n        return response.json().then( json => Promise.reject(json));\n    });\n};\n\n\nexport const pushNewDeal = (dealData) => {\n    return fetch('/session/deal', { \n        method: 'POST',               \n        headers: new Headers({\n            'content-type': 'application/json',\n        }),\n        body: JSON.stringify(dealData),\n    })\n    .catch( () => Promise.reject({ error: 'network-error' }))\n    .then( response => {\n        if(response.ok) {\n            return response.json();\n        }\n        return response.json().then( json => Promise.reject(json));\n    });\n};\n\n\nexport const viewDealDetails = ({id}) => {\n    return fetch(`/session/${id}`, {\n        method: 'GET',\n    })\n    .catch( () => Promise.reject({ error: 'network-error' }))\n    .then( response => {\n        if(response.ok) {\n            return response.json();\n        }\n        return response.json().then( json => Promise.reject(json));\n    });\n};\n\n\nexport const getDealsAddedByUser = ({ username }) => {\n    return fetch(`/account/${username}`, {\n        method: 'GET',\n    })\n    .catch( () => Promise.reject({ error: 'network-error' }))\n    .then( response => {\n        if(response.ok) {\n            return response.json();\n        }\n        return response.json().then( json => Promise.reject(json));\n    });\n};\n\n\nexport const removeDeal = ({ id }) => {\n    return fetch(`/account/${id}`, {\n        method: 'DELETE',\n    })\n    .catch( () => Promise.reject({ error: 'network-error' }))\n    .then( response => {\n        if(response.ok) {\n            return response.json();\n        }\n        return response.json().then( json => Promise.reject(json));\n    });\n};\n\n\nexport const endSession = () => {\n    return fetch('/session',  {\n      method: 'DELETE',\n    })\n    .catch( () => Promise.reject({ error: 'network-error'}))\n    .then( response => {\n      if(response.ok) {\n        return response.json();\n      }\n      return response.json().then( json => Promise.reject(json));\n    });\n};","import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { loadDeals } from './services';\nimport { Link } from \"react-router-dom\";\nimport messageCodes from './messageCodes';\n\n\nconst Home = function() {\n    const [listOfDeals, setListOfDeals] = useState([]);\n\n    useEffect(() => {\n        loadDeals()\n        .then(deals => {\n          setListOfDeals(deals);\n        })\n    }, []);\n\n\n    let dealsContent = '';\n\n\n    if(listOfDeals === null || listOfDeals === undefined){\n        dealsContent = ''\n    }\n    else {\n        dealsContent = (\n            <div>\n                <h2 className=\"title\"> BEST DEALS FOR YOU </h2>\n                <ul className=\"deals-list\">\n                    {\n                        listOfDeals.map(item => (\n                        <div className=\"individual-deal\"> \n                            <li className=\"item\" key={item.id} data-index={item.id}> \n                                <img className=\"product-image\" src={item.image} alt=\"Product\"/>\n                                <Link to={`/viewDetails/${item.id}`} key={item.id}> {item.itemName} </Link>\n                                <br/>{item.price} <br/>\n                                <span className=\"exp-date\"> Expires on {item.expirationDate} </span> \n                            </li>\n                        </div>\n                        ))\n                    }\n                </ul>\n            </div> \n        );\n    }\n\n\n    return(\n        <div className=\"deals\">\n            {dealsContent}\n        </div>\n    );\n};\n\nexport default Home;\n","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { pushNewDeal } from './services';\nimport messageCodes from './messageCodes';\n\nconst AddNewDeal = function({ username }) {\n    const [itemName, setItemName] = useState('');\n    const [websiteLink, setWebsiteLink] = useState('');\n    const [price, setPrice] = useState('');\n    const [description, setDescription] = useState('');\n    const [expirationDate, setExpirationDate] = useState('');\n    const [category, setCategory] = useState('kitchen');\n    const [newDealId, setNewDealId] = useState('');\n    const [status, setStatus] = useState('');\n    const history = useHistory();\n    const defaultImage = 'https://elegantfare.com/wp-content/themes/elegantfare/images/default.jpg';\n    const maxDate = new Date('2021-12-24');\n    const minDate = new Date('2020-12-13');\n\n    const showDetails = function(id) {\n        history.push(`viewDetails/${id.dealID}`);\n    }\n\n    const handleItemName = (e) => {\n        setItemName(e.target.value);\n    };\n\n    const handleWebsiteLink = (e) => {\n        const link = e.target.value;\n\n        if(isURL(link)) {\n            setStatus('');\n            setWebsiteLink(e.target.value);\n        }\n        else {\n            setStatus('Please enter a valid URL');\n            setWebsiteLink('');\n        }\n    };\n\n    const handlePrice = (e) => {\n        setPrice(e.target.value);\n    };\n\n    const handleDescription = (e) => {\n        setDescription(e.target.value);\n    };\n\n    const handleExpirationDate = (e) => {\n        let date = e.target.value;\n        date = new Date(date);\n        if( date > maxDate) {\n            setStatus('The date you are picking is not in the permissable range');\n            setExpirationDate('');\n        }\n        else if( date < minDate) {\n            setStatus('Please select a valid date');\n            setExpirationDate('');\n        }\n        else {\n            setStatus('');\n            setExpirationDate(e.target.value);\n        }\n    };\n\n    const handleCategory = (e) => {\n        setCategory(e.target.value);\n    };\n\n\n    function isURL(link) {\n        var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ \n        '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|'+ \n        '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ \n        '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ \n        '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ \n        '(\\\\#[-a-z\\\\d_]*)?$','i'); \n        return pattern.test(link);\n        link = new URL(link);\n    }\n\n    const submitNewDeal = () => {\n        const dealData = {\n            \"username\": username,\n            \"itemName\": itemName,\n            \"websiteLink\": websiteLink,\n            \"image\": defaultImage,\n            \"price\": price,\n            \"description\": description,\n            \"expirationDate\": expirationDate,\n            \"category\": category, \n        };\n        setItemName('');\n        setPrice('');\n        setWebsiteLink('');\n        setDescription('');\n        setExpirationDate('');\n        setCategory('');\n        pushNewDeal(dealData)\n        .then(id => {\n            setNewDealId(id);\n            showDetails(id);\n        })\n        .catch(err => {\n            setStatus(messageCodes[err.error]);\n        });\n   };\n\n   let content;\n\n   if(username === undefined){\n    content = <h3> You need to login to add products to PINK FRIDAY </h3>\n   }\n   else {\n       content = (\n        <div>   \n            <div> \n                <h2>ADD A NEW DEAL </h2>\n            </div>\n            <div className=\"new-deal\">\n                <label> Product name </label>\n                <input type=\"text\" onChange={handleItemName} value={itemName} /> <br/>\n\n                <label> Website link </label>\n                <span className=\"link-format\"> \n                    <textarea onChange={handleWebsiteLink} value={websiteLink} rows=\"3\" cols=\"40\"></textarea> <br/>\n                    <span className=\"tip\"> You can only PASTE a link into this field</span>\n                </span>\n\n                <label> Price </label>\n                <input type=\"number\" min=\"5\" max=\"5000\" onChange={handlePrice} value={price} /> <br/>\n\n                <label> Description </label>\n                <textarea onChange={handleDescription} value={description} rows=\"5\" cols=\"40\"></textarea> <br/>\n\n                <label> Expiration Date </label>\n                <input type=\"date\" onChange={handleExpirationDate} min=\"12-13-2020\" max=\"12-24-2021\" value={expirationDate} /> <br/>\n\n                <label> Category </label>\n                <select className=\"category\" name=\"category\" id=\"category\" onChange={handleCategory} value={category}>\n                    <option value=\"Kitchen\" >Kitchen</option>\n                    <option value=\"Decor\" >Decor</option>\n                    <option value=\"Apparel\" >Apparel</option>\n                    <option value=\"Gadgets\" >Gadgets</option>\n                    <option value=\"Accessories\" >Accessories</option>\n                    <option value=\"Accessories\" >Accessories</option>\n                    <option value=\"Fragrances\" >Fragrances</option>\n                    <option value=\"Other\">Other</option>\n                </select> <br/>\n\n                <button onClick={submitNewDeal}> SUBMIT </button>\n                {status && <div className=\"status\"> {status} </div>}\n            </div>\n        </div>)\n        }\n\n        \n    return (\n        <div> \n            {content}\n        </div> )\n}\n\nexport default AddNewDeal;\n\n\n","import React from 'react';\nimport { useEffect, useState } from \"react\";\nimport { viewDealDetails } from './services';\nimport messageCodes from './messageCodes';\n\n\nconst DealDetails = function({ match }) {\n    const id = match.params.id;\n    const [dealDetails, setDealDetails] = useState([]);\n    const [status, setStatus] = useState('');\n\n    useEffect(() => {\n        viewDealDetails({ id })\n        .then(dealInfo => {\n            setDealDetails(dealInfo);\n        })\n        .catch(err => {\n            setStatus(messageCodes[err.error]);\n        })\n    }, [id]);\n\n\n    if(dealDetails == null){\n        <h1>Loading</h1>\n    }\n    else {\n    return (\n        <div> \n        <div className=\"details-title\"> \n            <h1> DETAILS </h1>\n        </div>\n        <div className=\"deal-details\">\n        {status && <div className=\"status\"> {status} </div>}\n            <div className=\"detail-image\"> \n                <img className=\"product-image\" src={dealDetails.image} alt=\"Product\"/>\n            </div>\n            <div className=\"text\"> \n            <label> PRODUCT NAME </label>\n                <span> {dealDetails.itemName} </span> <br/>\n            <label> WHERE TO BUY </label>\n                <span> <a href={dealDetails.websiteLink} rel=\"noopener noreferrer\" target=\"_blank\"> CLICK HERE</a> </span> <br/>\n            <label> PRICE :</label>\n                <span> {dealDetails.price} </span> <br/>\n            <label> ABOUT THE PRODUCT  </label>\n                <span> {dealDetails.description} </span> <br/>\n            <label> OFFER EXPIRES ON </label>\n                <span> {dealDetails.expirationDate}</span> <br/>\n            <label> CATEGORY</label>\n                <span> {dealDetails.category}</span> \n            </div>\n        </div>\n        </div> );\n    }\n}\n\nexport default DealDetails;","import { getDealsAddedByUser, removeDeal } from './services';\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport messageCodes from './messageCodes';\n\n\nconst MyAccount = function({ username }) {\n    const [myDeals, setMyDeals] = useState([]);\n    const [status, setStatus] = useState('');\n    let content = '';\n   \n    useEffect(() => {\n        getDealsAddedByUser({ username })\n        .then(dealsInfo => {\n            setMyDeals(dealsInfo);\n        })\n        .catch(err => {\n            setStatus(messageCodes[err.error]);\n        });\n    }, [username]);\n\n\n    const deleteDeal = function(e) {\n        const id = e.target.dataset.index;\n        removeDeal({ id })\n        .then(dealsInfo => {\n            setMyDeals(dealsInfo);\n        })\n        .catch(err => {\n            setStatus(messageCodes[err.error]);\n        });\n    };\n\n\n    if(username === undefined){\n        content = ''\n    }\n    else if(myDeals && !myDeals.length){\n        content = (\n            <div> \n                <h3> USERNAME : {username}</h3>\n                <h3 className=\"account-message\"> YOUR ACCOUNT HAS NO DEALS, PLEASE ADD NEW DEALS TO MANAGE THEM  </h3>\n            </div>\n        );\n    }\n    else {\n        content = (\n            <div>\n                <h3> USERNAME : {username}</h3>\n                <h4> DEALS ADDED BY YOU </h4>\n                <ul className=\"added-deals\"> \n                {myDeals.map(item => (\n                    <li className=\"item\" key={item.id}> \n                    <Link to={`/viewDetails/${item.id}`} key={item.id} > {item.itemName} </Link>\n                    <button onClick={deleteDeal} data-index={item.id}> DELETE </button>\n                    </li>\n                ))}\n                </ul>\n            </div> )\n    }\n\n    \n    return (\n        <div>\n            <h2 className=\"account-title\"> YOUR ACCOUNT </h2>\n            <div className=\"account\">\n                {status && <div className=\"status\"> {status} </div>}\n                {content}\n        </div>\n        </div>\n\n    )\n}\n\nexport default MyAccount;\n\n","import React from 'react';\n\nimport './App.css';\nimport { useState, useEffect } from 'react';\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport { endSession, checkSession } from './services';\nimport Login from './Login';\nimport Home from './Home';\nimport AddNewDeal from './AddNewDeal';\nimport DealDetails from './DealDetails';\nimport MyAccount from './MyAccount';\n\nfunction App() {\n  const [userState, setUserState] = useState({ isLoggedIn: false, isPending: true });\n  const userImage = \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTz3VL6dIejtydIjARhITdoJFO2IdzY_gUepQ&usqp=CAU\";\n\n  useEffect( () => {\n    checkSession()\n    .then( userinfo => {\n      setUserState({\n        isLoggedIn: true,\n        isPending: false,\n        username: userinfo\n      });\n    })\n    .catch( () => {\n      setUserState({\n        isLoggedIn: false,\n        isPending: false,\n      });\n    });\n  }, []); \n\n\n  const login = function({ username }) {\n    setUserState({\n      isLoggedIn: true,\n      isPending: false,\n      username: username\n    });\n  };\n\n\n  const logout = function() {\n    setUserState({\n      ...userState,\n      isPending: true,\n    });\n    endSession()\n    .then( () => {\n      setUserState({\n        isLoggedIn: false,\n        isPending: false,\n      });\n    })\n    .catch( () => {\n      setUserState({\n        ...userState,\n        isPending: false,\n      });\n    });\n  };\n\n\n  if(userState.isPending) {\n    return (\n      <div className=\"app\">\n        Loading...\n      </div>\n    );\n  }\n\n\n  let navContent;\n\n  if(userState.isLoggedIn) {\n    navContent = (\n        <nav>\n          <div className=\"user-information\"> \n            <img className=\"user-image\" src={userImage} alt=\"user avatar\"/>\n            <h2 className=\"user-greeting\"> Hello {userState.username} </h2>\n          </div>\n          <ul className=\"navigation-post-login\">\n            <li key={1}><Link to=\"/\" className=\"link\"> HOME </Link></li>\n            <li key={2}><Link to=\"/addItem\" className=\"link\"> ADD PRODUCT </Link></li>\n            <li key={3}><Link to=\"/myAccount\" className=\"link\"> MY ACCOUNT</Link></li>\n            <li key={4}><Link to=\"/\" className=\"link\" onClick={logout}>LOGOUT</Link></li>\n          </ul>\n        </nav>)\n  } else {\n    navContent = (\n      <nav>\n        <ul className=\"navigation-pre-login\">\n          <li key={1}><Link to=\"/\" className=\"link\"> HOME </Link></li>\n          <li key={2}><Link to=\"/login\" className=\"link\"> LOGIN </Link></li>\n        </ul>\n      </nav>)\n  };\n\n\n  let content = (\n      <div>\n      {navContent}\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" render={() => <Login onLogin={login}/>} />\n        <Route exact path=\"/addItem\" render={() => <AddNewDeal username={userState.username} />} />\n        <Route exact path=\"/myAccount\" render={() => <MyAccount username={userState.username} />} />\n        <Route exact path='/viewDetails/:id' component={DealDetails} />\n        <Route exact path=':link' />\n      </Switch>\n      </div> );\n\n\n  return (\n    <div className=\"app\">\n      <h1 className=\"website-title\"> PINK FRIDAY </h1>\n      {content}\n    </div> );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}